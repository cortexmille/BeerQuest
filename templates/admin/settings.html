{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h3 class="mb-0">Settings</h3>
    </div>
    <div class="card-body">
        <form method="POST">
            <div class="form-group mb-3">
                <div class="form-check mb-2">
                    <input type="checkbox" class="form-check-input" id="email_notifications" 
                           name="email_notifications" {% if current_user.email_notifications %}checked{% endif %}>
                    <label class="form-check-label" for="email_notifications">
                        Recevoir des notifications par email pour les nouvelles synthèses
                    </label>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="receive_synthesis_copy" 
                           name="receive_synthesis_copy" {% if current_user.receive_synthesis_copy %}checked{% endif %}>
                    <label class="form-check-label" for="receive_synthesis_copy">
                        Recevoir une copie des synthèses par email
                    </label>
                </div>
            </div>
            
            <div class="form-group mb-3">
                <label for="synthesis_interval">Interval de relève des questions:</label>
                <input type="number" class="form-control" id="synthesis_interval" 
                       name="synthesis_interval" value="{{ config['SYNTHESIS_INTERVAL_MINUTES'] }}" 
                       min="5" max="1440" required>
            </div>
            
            <div class="form-group mb-3">
                <label for="email">Email pour les notifications :</label>
                <input type="email" class="form-control" id="email" 
                       name="email" value="{{ current_user.email }}" required>
            </div>
            
            <button type="submit" class="btn btn-primary">Save Settings</button>
        </form>
    </div>
</div>
{% endblock %}
